apply plugin: 'java'
apply plugin: 'eclipse'

sourceCompatibility = 1.7
version = '1.0'

task wrapper(type: Wrapper) {
	gradleVersion = '2.4'
}

repositories {
    mavenCentral()
}

dependencies {
    testCompile group: 'junit', name: 'junit', version: '4.+'
}

task copyJarDependencies(type : Copy) {
	['libs', 'libsTest'].each {new File(it).deleteDir()}

	configurations.compile.findAll { it.path.find("/caches/") }.each { copyJarIntoLibs(it, 'libs') }
	configurations.runtime.findAll { it.path.find("/caches/") }.each { copyJarIntoLibs(it, 'libs') }

	configurations.testRuntime.findAll { it.path.find("/caches/") }.findAll { !new File('libs/' + it.name).exists() }.each { copyJarIntoLibs(it, 'libsTest') }
}

void copyJarIntoLibs(File file, String libs) {
	copy {
		from file
		into libs
	}
}
